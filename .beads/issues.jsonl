{"id":"ucmt-0en","title":"Schema Validator: DB vs YAML comparison after apply","description":"TDD tests (write FIRST): test_validate_passes_when_db_matches_yaml, test_validate_fails_on_missing_column, test_validate_fails_on_type_mismatch, test_validate_fails_on_missing_table, test_validate_ignores_extra_system_tables, test_validate_ignores_comment_differences, test_validate_returns_validation_result. ValidationIssue dataclass: table (Optional[str]), column (Optional[str]), kind (Literal['missing_table','missing_column','type_mismatch','constraint_mismatch']), message (str). ValidationResult dataclass: ok (bool), issues (list[ValidationIssue]). ok=True iff issues empty. CLI uses ok for exit code (0 if ok, 1 otherwise). Uses Config/DatabricksClient like other DB operations.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:21:35.962247-05:00","updated_at":"2025-12-13T23:32:26.340146-05:00","dependencies":[{"issue_id":"ucmt-0en","depends_on_id":"ucmt-vxw","type":"blocks","created_at":"2025-12-13T23:21:38.795175-05:00","created_by":"daemon"},{"issue_id":"ucmt-0en","depends_on_id":"ucmt-0z4","type":"blocks","created_at":"2025-12-13T23:21:41.346372-05:00","created_by":"daemon"},{"issue_id":"ucmt-0en","depends_on_id":"ucmt-2i4","type":"blocks","created_at":"2025-12-13T23:21:44.035748-05:00","created_by":"daemon"}]}
{"id":"ucmt-0z4","title":"Schema Introspector (schema/introspect.py): Read schema from Unity Catalog","description":"TDD tests (write FIRST): test_introspect_users_table_matches_yaml_model, test_introspect_table_properties_includes_column_mapping, test_introspect_primary_key, test_introspect_check_constraints, test_introspect_liquid_clustering, test_introspect_ignores_views, test_introspect_ignores_temp_tables, test_introspect_missing_table_returns_none, test_introspect_normalizes_types_to_uppercase. SchemaIntrospector uses DatabricksClient (not SparkSession) to query information_schema. Tests mock DatabricksClient. Normalize types to uppercase. Ignore non-Delta tables (views, streaming, temp).","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:17:16.471041-05:00","updated_at":"2025-12-13T23:32:11.267232-05:00","dependencies":[{"issue_id":"ucmt-0z4","depends_on_id":"ucmt-yfk","type":"blocks","created_at":"2025-12-13T23:17:19.240594-05:00","created_by":"daemon"},{"issue_id":"ucmt-0z4","depends_on_id":"ucmt-12f","type":"blocks","created_at":"2025-12-13T23:17:21.884339-05:00","created_by":"daemon"}]}
{"id":"ucmt-12f","title":"Databricks Client (databricks/client.py): SQL execution wrapper","description":"TDD tests (write FIRST): test_client_executes_sql, test_client_raises_on_sql_error (propagates driver exceptions unchanged), test_client_supports_non_select_commands, test_client_uses_configured_connection_params. DatabricksClient takes connection params explicitly (host, token, http_path, warehouse_id) - does NOT read env vars (Config handles that). Uses databricks-sql-connector. Propagates driver exceptions unchanged. Interface: execute(sql: str) -\u003e None, fetchall(sql: str) -\u003e list[Row].","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:16:59.792345-05:00","updated_at":"2025-12-13T23:32:04.688969-05:00","dependencies":[{"issue_id":"ucmt-12f","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:17:02.45387-05:00","created_by":"daemon"}]}
{"id":"ucmt-15h","title":"Wire CLI run and status commands","description":"CLI run and status commands print 'not yet implemented'. Wire them: run should use Config + DatabricksClient + MigrationState + MigrationRunner to discover and execute pending migrations. status should query applied migrations from state table.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T23:51:10.727499-05:00","updated_at":"2025-12-13T23:51:10.727499-05:00"}
{"id":"ucmt-2i4","title":"YAML Schema Loader (schema/loader.py): Parse schema YAML files into models","description":"TDD tests (write FIRST): test_loader_users_yaml_golden, test_loader_transactions_yaml_golden, test_loader_schema_dir_multiple_tables, test_loader_missing_table_field_raises_SchemaLoadError, test_loader_missing_column_name_raises_SchemaLoadError, test_loader_missing_column_type_raises_SchemaLoadError, test_loader_unknown_field_raises_SchemaLoadError, test_loader_validates_liquid_clustering_max_4_cols, test_loader_duplicate_column_names_raises_SchemaLoadError, test_loader_duplicate_table_names_raises_SchemaLoadError, test_loader_defaults, test_loader_parses_foreign_key_to_model. Import SchemaLoadError from ucmt.exceptions, Table/Column from ucmt.schema.models. ForeignKey IS parsed into Column.foreign_key (for documentation) but not used by diff. YAML description -\u003e Table.description, YAML comment -\u003e Table.comment.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:16:29.895673-05:00","updated_at":"2025-12-13T23:37:42.040711-05:00","dependencies":[{"issue_id":"ucmt-2i4","depends_on_id":"ucmt-yfk","type":"blocks","created_at":"2025-12-13T23:16:32.47138-05:00","created_by":"daemon"}]}
{"id":"ucmt-4he","title":"Migration State Store (migrations/state.py): Track applied migrations","description":"Define MigrationStateStore Protocol in ucmt/migrations/state.py. Import MigrationStateConflictError from ucmt.exceptions. Methods: list_applied() -\u003e list[AppliedMigration] (ascending by version: int), get_last_applied() -\u003e Optional[AppliedMigration], record_applied(version: int, name: str, checksum: str, success: bool, error: Optional[str] = None), has_applied(version: int) -\u003e bool. AppliedMigration dataclass: version: int, name: str, checksum: str, applied_at: datetime, success: bool, error: Optional[str]. TDD tests: test_list_applied_returns_ascending_order, test_record_applied_success, test_record_applied_failure_with_error, test_get_last_applied, test_has_applied, test_record_same_version_twice_is_idempotent, test_record_different_checksum_same_version_raises_MigrationStateConflictError. InMemoryMigrationStateStore implements protocol.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:16:43.778576-05:00","updated_at":"2025-12-13T23:37:58.456226-05:00","dependencies":[{"issue_id":"ucmt-4he","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:16:46.270866-05:00","created_by":"daemon"},{"issue_id":"ucmt-4he","depends_on_id":"ucmt-d28","type":"blocks","created_at":"2025-12-13T23:38:32.731077-05:00","created_by":"daemon"}]}
{"id":"ucmt-5rd","title":"Databricks State Store (migrations/state.py DatabricksMigrationStateStore)","description":"TDD tests (write FIRST): test_creates_state_table_if_missing, test_reads_applied_migrations, test_records_success, test_records_failure, test_state_table_fqn_from_config. State table DDL: version INT, name STRING, checksum STRING, applied_at TIMESTAMP, success BOOLEAN, error STRING. Table name: ${catalog}.${schema}.__ucmt_migrations. Must satisfy MigrationStateStore protocol from ucmt-4he with version as int. Handle concurrent table creation (CREATE TABLE IF NOT EXISTS). DatabricksMigrationStateStore receives connection params from Config, does not read env vars directly.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:17:06.56703-05:00","updated_at":"2025-12-13T23:31:27.595295-05:00","dependencies":[{"issue_id":"ucmt-5rd","depends_on_id":"ucmt-12f","type":"blocks","created_at":"2025-12-13T23:17:09.79959-05:00","created_by":"daemon"},{"issue_id":"ucmt-5rd","depends_on_id":"ucmt-4he","type":"blocks","created_at":"2025-12-13T23:17:12.350847-05:00","created_by":"daemon"}]}
{"id":"ucmt-6i6","title":"Implement foreign key diff and codegen","description":"SchemaDiffer never compares foreign keys. MigrationGenerator has no handlers for ADD_FOREIGN_KEY/DROP_FOREIGN_KEY. Add _diff_foreign_keys to SchemaDiffer and generator methods to codegen (with 'informational only' comments since FKs are not enforced in Databricks).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T23:50:58.218831-05:00","updated_at":"2025-12-13T23:50:58.218831-05:00"}
{"id":"ucmt-d1h","title":"Add SchemaDiffer and MigrationGenerator unit tests","description":"Add unit tests for SchemaDiffer (test change detection, destructive/unsupported flags) and MigrationGenerator (compare generated SQL to golden files in tests/fixtures/golden_sql/).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T23:51:10.858332-05:00","updated_at":"2025-12-13T23:51:10.858332-05:00"}
{"id":"ucmt-d28","title":"Shared Types \u0026 Exceptions (ucmt/types.py, ucmt/exceptions.py)","description":"Define all shared types and exceptions in central location. ucmt/types.py: SchemaChange(change_type: ChangeType, table_name: str, details: dict[str, Any], is_destructive: bool = False, is_unsupported: bool = False, error_message: Optional[str] = None, requires_column_mapping: bool = False). ucmt/exceptions.py: UcmtError(Exception) base, SchemaLoadError(UcmtError), MigrationParseError(UcmtError), MigrationStateConflictError(UcmtError), MigrationChecksumMismatchError(UcmtError), ConfigError(UcmtError), UnsupportedSchemaChangeError(UcmtError). All other modules import from these. TDD: test_schema_change_fields, test_exception_hierarchy.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-13T23:36:51.678227-05:00","updated_at":"2025-12-13T23:36:51.678227-05:00","dependencies":[{"issue_id":"ucmt-d28","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:36:54.880474-05:00","created_by":"daemon"}]}
{"id":"ucmt-fy5","title":"CLI Module (cli.py): Command-line interface","description":"TDD tests (write FIRST): test_cli_help_shows_all_commands, test_cli_apply_invokes_runner, test_cli_generate_creates_migration_file, test_cli_validate_exits_nonzero_on_drift, test_cli_diff_prints_changes_no_execution, test_cli_plan_lists_pending, test_cli_status_shows_applied_and_pending, test_cli_exits_0_on_success, test_cli_exits_1_on_error, test_cli_config_error_exits_2, test_cli_validation_failure_exits_1, test_cli_respects_config_precedence, test_cli_requires_allow_destructive_for_drops. Exit codes: 0=success, 1=runtime/validation error, 2=config error. CLI entrypoint 'ucmt'. Commands: schema validate, migrations generate/diff/plan/apply/status. Destructive detection: SchemaChange.is_destructive OR SQL contains DROP TABLE/DROP COLUMN. --allow-destructive required.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T23:17:32.652234-05:00","updated_at":"2025-12-13T23:38:22.189937-05:00","dependencies":[{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-vqt","type":"blocks","created_at":"2025-12-13T23:17:35.606111-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-2i4","type":"blocks","created_at":"2025-12-13T23:17:38.294949-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-0z4","type":"blocks","created_at":"2025-12-13T23:17:40.972779-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-iyx","type":"blocks","created_at":"2025-12-13T23:17:43.553409-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-iir","type":"blocks","created_at":"2025-12-13T23:17:46.24784-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-5rd","type":"blocks","created_at":"2025-12-13T23:17:49.20082-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-0en","type":"blocks","created_at":"2025-12-13T23:21:46.768008-05:00","created_by":"daemon"},{"issue_id":"ucmt-fy5","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:32:46.28409-05:00","created_by":"daemon"}]}
{"id":"ucmt-gin","title":"DAB Integration: databricks.yml and wheel packaging","description":"TDD tests: test_dab_task_spec_uses_ucmt_entrypoint, test_dab_task_includes_catalog_schema_params, test_dab_paths_resolve_correctly. Create databricks.yml with python_wheel_task. Entry point: ucmt. Parameters: ['migrations', 'apply', '--catalog', '${var.catalog}', '--schema', '${var.schema}']. Helper function build_dab_task_spec(config) -\u003e dict for testability. Document: databricks bundle deploy installs wheel, job runs ucmt CLI. Paths: schema/ and sql/migrations/ relative to bundle root.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T23:17:53.759962-05:00","updated_at":"2025-12-13T23:26:43.128324-05:00","dependencies":[{"issue_id":"ucmt-gin","depends_on_id":"ucmt-fy5","type":"blocks","created_at":"2025-12-13T23:17:56.419913-05:00","created_by":"daemon"},{"issue_id":"ucmt-gin","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:32:49.188563-05:00","created_by":"daemon"}]}
{"id":"ucmt-gwx","title":"Project Setup: pyproject.toml, package structure, pytest config","description":"Create src/ucmt/ package structure with __init__.py files for: ucmt, ucmt.schema, ucmt.migrations, ucmt.databricks. pyproject.toml with: name='ucmt', [project.scripts] ucmt='ucmt.cli:main', dependencies=[pyyaml, databricks-sql-connector]. pytest config in pyproject.toml. tests/ directory with tests/unit/, tests/integration/, tests/fixtures/. Fixtures: tests/fixtures/schema/tables/users.yaml, transactions.yaml matching docs/initial_plan.md examples exactly. tests/fixtures/golden_sql/ for codegen golden files. Module import DAG (no cycles): types.py \u003c- exceptions.py \u003c- models.py \u003c- loader.py/introspect.py \u003c- diff.py \u003c- codegen.py. config.py standalone. client.py standalone. state.py \u003c- runner.py. cli.py imports all.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-13T23:16:03.070945-05:00","updated_at":"2025-12-13T23:47:15.471944-05:00","closed_at":"2025-12-13T23:47:15.471944-05:00"}
{"id":"ucmt-iir","title":"Migration Runner (migrations/runner.py): Apply migrations in order","description":"TDD tests (write FIRST): test_plan_returns_pending_only, test_plan_skips_already_applied, test_apply_executes_in_version_order, test_apply_records_each_success, test_apply_stops_on_first_failure_and_records_error, test_apply_checksum_mismatch_raises_MigrationChecksumMismatchError_before_execution, test_apply_logs_each_migration, test_apply_no_pending_logs_up_to_date, test_plan_is_pure_function, test_dry_run_executes_nothing. Import MigrationChecksumMismatchError from ucmt.exceptions. PendingMigration dataclass: version: int, name: str, path: Path, checksum: str, sql: str. Runner uses abstract StateStore protocol. plan() is pure: (list[MigrationFile], StateStore) -\u003e list[PendingMigration]. apply() executes and updates state. Variable substitution: runner substitutes ${catalog}/${schema} with Config values before execution.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:16:50.30251-05:00","updated_at":"2025-12-13T23:38:06.448698-05:00","dependencies":[{"issue_id":"ucmt-iir","depends_on_id":"ucmt-w5z","type":"blocks","created_at":"2025-12-13T23:16:52.849533-05:00","created_by":"daemon"},{"issue_id":"ucmt-iir","depends_on_id":"ucmt-4he","type":"blocks","created_at":"2025-12-13T23:16:55.542084-05:00","created_by":"daemon"}]}
{"id":"ucmt-iyx","title":"SQL Codegen (schema/codegen.py): Generate SQL migrations from SchemaChanges","description":"TDD tests (write FIRST): test_codegen_create_table_golden, test_codegen_primary_key_syntax, test_codegen_add_column, test_codegen_drop_column_marks_destructive, test_codegen_alter_column_type, test_codegen_alter_table_properties, test_codegen_add_check_constraint, test_codegen_drop_check_constraint, test_codegen_fqn_uses_dollar_braces, test_codegen_destructive_warning_header, test_codegen_unsupported_change_raises_UnsupportedSchemaChangeError, test_codegen_empty_changes_returns_header_only, test_codegen_escapes_single_quotes, test_codegen_uses_table_comment_not_description, test_codegen_no_foreign_key_sql, test_codegen_timestamp_line_format. Import from ucmt.types, ucmt.exceptions. Raises UnsupportedSchemaChangeError (not ValueError) when is_unsupported=True. No FK SQL generated. Tests assert timestamp line starts with '-- Generated:' (don't match exact time). Use MigrationGenerator._now() for testability (default datetime.now).","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-13T23:16:22.6427-05:00","updated_at":"2025-12-13T23:37:25.717972-05:00","dependencies":[{"issue_id":"ucmt-iyx","depends_on_id":"ucmt-vxw","type":"blocks","created_at":"2025-12-13T23:16:25.212995-05:00","created_by":"daemon"}]}
{"id":"ucmt-lxy","title":"Use Column.check in CREATE TABLE codegen","description":"Loader populates Column.check from YAML but codegen never uses it in _gen_create_table. Either generate inline CHECK constraints or document that column-level checks are descriptive only.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T23:51:10.658957-05:00","updated_at":"2025-12-13T23:51:10.658957-05:00"}
{"id":"ucmt-rh5","title":"Integration Tests: End-to-end workflow validation","description":"TDD tests: test_roundtrip_yaml_to_db_produces_no_diff, test_generate_then_apply_workflow, test_full_lifecycle_create_table, test_full_lifecycle_add_column, test_full_lifecycle_unsupported_change_blocks_apply, test_local_and_databricks_produce_same_sql, test_variable_substitution_works. Use tests/fixtures/ for YAML and tests/fixtures/golden_sql/ for expected SQL output. Mock DatabricksClient. Golden SQL tests: assert exact match except timestamp line (check prefix only). Test variable substitution: ${catalog}.${schema} replaced with actual values before execution. All tests run without real Databricks.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T23:18:00.593318-05:00","updated_at":"2025-12-13T23:38:29.006056-05:00","dependencies":[{"issue_id":"ucmt-rh5","depends_on_id":"ucmt-fy5","type":"blocks","created_at":"2025-12-13T23:18:03.192012-05:00","created_by":"daemon"}]}
{"id":"ucmt-vqt","title":"Config Module (config.py): Unified configuration","description":"TDD tests (write FIRST): test_config_loads_from_env, test_config_cli_overrides_env, test_config_defaults, test_config_missing_required_raises_ConfigError. Import ConfigError from ucmt.exceptions. Config dataclass: catalog: Optional[str], schema: Optional[str], schema_dir: str = 'schema', migrations_dir: str = 'sql/migrations', databricks_host: Optional[str], databricks_token: Optional[str], databricks_http_path: Optional[str], databricks_warehouse_id: Optional[str]. Env vars: UCMT_CATALOG, UCMT_SCHEMA, UCMT_SCHEMA_DIR, UCMT_MIGRATIONS_DIR, DATABRICKS_HOST, DATABRICKS_TOKEN, DATABRICKS_HTTP_PATH, DATABRICKS_WAREHOUSE_ID. Config.validate_for_db_ops() raises ConfigError if catalog/schema/connection missing. Config is ONLY env reader.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T23:17:26.045338-05:00","updated_at":"2025-12-13T23:38:14.107601-05:00","dependencies":[{"issue_id":"ucmt-vqt","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:17:28.671018-05:00","created_by":"daemon"},{"issue_id":"ucmt-vqt","depends_on_id":"ucmt-d28","type":"blocks","created_at":"2025-12-13T23:38:38.807828-05:00","created_by":"daemon"}]}
{"id":"ucmt-vxw","title":"Schema Diff Engine (schema/diff.py): Compare actual vs desired schema","description":"TDD tests (write FIRST): test_diff_create_new_table, test_diff_add_column, test_diff_drop_column, test_diff_unsupported_partition_change, test_diff_type_widening_allowed, test_diff_type_narrowing_blocked, test_diff_decimal_change_unsupported, test_diff_ordering_deterministic, test_diff_primary_key_changes, test_diff_check_constraints, test_diff_table_properties_only_set_never_drop, test_diff_liquid_clustering, test_diff_no_changes_is_empty, test_diff_drop_column_requires_column_mapping, test_diff_identical_schemas_returns_empty, test_diff_column_reorder_no_change, test_diff_ignores_extra_db_tables, test_diff_foreign_key_changes_ignored. ForeignKey parsed but NOT diffed in v1 (informational only). Import SchemaChange, ChangeType from ucmt.types. Properties: only set/overwrite. v1: no DROP_TABLE for extra DB tables. Stable ordering: change_type priority, table name, column name.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-13T23:16:15.674462-05:00","updated_at":"2025-12-13T23:37:16.85847-05:00","dependencies":[{"issue_id":"ucmt-vxw","depends_on_id":"ucmt-yfk","type":"blocks","created_at":"2025-12-13T23:16:18.375935-05:00","created_by":"daemon"}]}
{"id":"ucmt-w1w","title":"Connect introspection to CLI for online diff","description":"Current diff/generate commands compare declared schema vs empty Schema. Add --online flag or separate commands that use SchemaIntrospector to diff against actual database state. Document that current mode is 'offline'.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T23:51:10.791201-05:00","updated_at":"2025-12-13T23:51:10.791201-05:00"}
{"id":"ucmt-w5z","title":"Migration File Parser (migrations/parser.py): Parse V###__name.sql files","description":"TDD tests (write FIRST): test_parser_filename_extracts_version_and_name, test_parser_unpadded_version_allowed, test_parser_checksum_sha256_deterministic, test_parser_invalid_filename_raises_MigrationParseError, test_parser_multiple_statements_preserved_as_raw_text, test_parser_preserves_variable_placeholders, test_parser_sorts_by_numeric_version, test_parser_rejects_duplicate_versions_raises_MigrationParseError, test_parser_empty_file_raises_MigrationParseError, test_parser_missing_version_gap_allowed, test_parser_rejects_string_version. Import MigrationParseError from ucmt.exceptions. MigrationFile(version: int, name: str, path: Path, checksum: str, sql: str). Version is ALWAYS int (V001 -\u003e 1). Zero-padding is display only. Test that passing string version to APIs raises TypeError. Checksum: SHA256 of content with normalized \\n line endings.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-13T23:16:36.85939-05:00","updated_at":"2025-12-13T23:37:50.842333-05:00","dependencies":[{"issue_id":"ucmt-w5z","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:16:39.610581-05:00","created_by":"daemon"},{"issue_id":"ucmt-w5z","depends_on_id":"ucmt-d28","type":"blocks","created_at":"2025-12-13T23:38:35.759938-05:00","created_by":"daemon"}]}
{"id":"ucmt-yfk","title":"Schema Models (schema/models.py): Table, Column, PrimaryKey, ForeignKey, CheckConstraint, SchemaChange, ChangeType dataclasses","description":"Core domain types in ucmt/schema/models.py. Import ChangeType, SchemaChange from ucmt.types. TDD tests (write FIRST): test_models_basic, test_delta_type_rules_widening, test_pk_equality_requires_columns_and_rely_match, test_column_order_not_significant_for_table_equality, test_type_normalization_case_insensitive, test_decimal_precision_comparison. Dataclasses: Table (name: str, columns: list[Column], primary_key: Optional[PrimaryKey], check_constraints: list[CheckConstraint], liquid_clustering: list[str], partitioned_by: list[str], table_properties: dict[str,str], description: Optional[str], comment: Optional[str]), Column, PrimaryKey, ForeignKey, CheckConstraint. DeltaTypeRules: INT-\u003eBIGINT allowed, BIGINT-\u003eINT rejected. DECIMAL changes: v1 marks ALL DECIMAL precision/scale changes as unsupported for safety. Normalize types to uppercase.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-13T23:16:08.03265-05:00","updated_at":"2025-12-13T23:37:07.478152-05:00","dependencies":[{"issue_id":"ucmt-yfk","depends_on_id":"ucmt-gwx","type":"blocks","created_at":"2025-12-13T23:16:10.783098-05:00","created_by":"daemon"},{"issue_id":"ucmt-yfk","depends_on_id":"ucmt-d28","type":"blocks","created_at":"2025-12-13T23:36:57.791976-05:00","created_by":"daemon"}]}
